<mat-card class="form_cards commonMatCardDataSource">
  <mat-toolbar
    class="mat-toolbar_all mat-toolbar details-toolbar mat-toolbar-single-row">
    <mat-card-title class="sidebar_form_title matCardTitles">
      {{UIDICTIONARY ? UIDICTIONARY.get('ui.core.heading.datasource.virtualSwitch'): ""}}
      <small *ngIf="isActivePdSmall">{{datasourceTitleName}}</small>
    </mat-card-title>
  </mat-toolbar>
  <div class="mat-content">
    <mat-tab-group animationDuration="0ms" [selectedIndex]="tabIndex">
      <mat-tab label="Properties">
        <div *ngFor="let error of virtualSwitchError" [hidden]="!messageError">
          <mat-card class="validation-error">
            <li>{{error.property}} : {{error.message}}</li>
          </mat-card>
        </div>


          <mat-form-field class="formCommonFieldWidth marginTop" appearance="fill">
            <mat-label>
              {{UIDICTIONARY ? UIDICTIONARY.get('ui.core.common.placeholder.name'): ""}}
            </mat-label>
            <input matInput name="name" [(ngModel)]="virtualSwitchDatasource.name" type="text" required>
          </mat-form-field>
          <mat-form-field class="formCommonFieldWidth"  appearance="fill">
            <mat-label>{{UIDICTIONARY ? UIDICTIONARY.get('ui.core.common.placeholder.exportId'): ""}}</mat-label>
            <input matInput disabled class="datasourceBoxHeight" name="xid" [(ngModel)]="virtualSwitchDatasource.xid" type="text"  placeholder="Autogenerated">
          </mat-form-field>


        <mat-divider></mat-divider>
        <div> <mat-form-field class="formCommonFieldWidth marginTop" appearance="fill">
          <mat-label>{{UIDICTIONARY ? UIDICTIONARY.get('ui.core.virtualSwitch.fields.uid'): ""}}</mat-label>
          <input disabled matInput name="uid"  [(ngModel)]="virtualSwitchDatasource!.uid" readonly type="text" required>
        </mat-form-field></div>
        <div>
          <mat-form-field class="formCommonFieldWidth" appearance="fill">
            <mat-label> {{UIDICTIONARY ? UIDICTIONARY.get('ui.core.virtualSwitch.fields.gradeTypes'): ""}}</mat-label>
            <input disabled matInput name="grade"  [(ngModel)]="virtualSwitchDatasource!.grade" readonly type="text" required>
          </mat-form-field>
          <mat-form-field class="formCommonFieldWidth" appearance="fill">
            <mat-label> {{UIDICTIONARY ? UIDICTIONARY.get('ui.core.virtualSwitch.fields.gradeTypes'): ""}}</mat-label>
            <mat-select disabled  class="form-control" [(ngModel)]="virtualSwitchDatasource!.gradeType" name="gradeType">
              <mat-option *ngFor="let gradeType of gradeTypes" [value]="gradeType.value">
                {{gradeType.key}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <button mat-raised-button class="updateButton" (click)="updateDatasource()">{{UIDICTIONARY ? (UIDICTIONARY.get('ui.core.common.button.update') | uppercase) : ""}}</button>

      </mat-tab>
      <mat-tab label="Points" [disabled]="!datapointForm">
        <div class="sidebar-form" *ngIf="displayForm">
          <div>

              <mat-form-field class="formCommonFieldWidth allInputsMargin" appearance="fill">
                <mat-label> {{UIDICTIONARY ? UIDICTIONARY.get('ui.core.common.placeholder.exportId'): ""}}</mat-label>
                <input readonly matInput [(ngModel)]="virtualSwitchPointLocator.xid"
                       name="xid" placeholder="xid" class="datasourceBoxHeight">
              </mat-form-field>
              <mat-form-field class="formCommonFieldWidth" appearance="fill">
                <mat-label>{{UIDICTIONARY ? UIDICTIONARY.get('ui.core.common.placeholder.name'): ""}}</mat-label>
                <input matInput [(ngModel)]="virtualSwitchPointLocator.name"
                       name="name" type="text" required placeholder="Name">
              </mat-form-field>

            <div>
              <mat-form-field class="formCommonFieldWidth allInputsMargin" appearance="fill">
                <mat-label>{{UIDICTIONARY ? UIDICTIONARY.get('ui.core.virtualSwitch.fields.commandControl'): ""}}</mat-label>
                <input matInput [(ngModel)]="virtualSwitchPointLocator.controlCommand"
                       name="controlCommand" type="text" disabled required>
              </mat-form-field>
              <br>
              <button mat-raised-button class="updateButton mt-10"  (click)="updateDataPoint()" >{{UIDICTIONARY ? (UIDICTIONARY.get('ui.core.common.button.update') | uppercase) : ""}}</button>
            </div>
          </div>
        </div>
        <app-datapoint-table (editPoint)="editDataPoint($event)" (addPoint)="addNewDatapoint($event, 1)">
        </app-datapoint-table>
      </mat-tab>
    </mat-tab-group>
  </div>
</mat-card>
